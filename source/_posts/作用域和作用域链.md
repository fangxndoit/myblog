---
title: 作用域和作用域链
date: 2020-10-21 20:54:04
tags:
---

#### 作用域

##### 1.什么是作用域

定义变量的区域就是作用域。作用域是一套规则，用于确定在何处以及如何查找变量（标识符）。

作用域包括了**全局作用域**，**函数作用域**和**块级作用域**

##### 2.全局作用域

- 最外层函数和最外层函数定义外定义的变量拥有全局作用域
- 所有未定义直接赋值的变量自动声明为拥有全局作用域
- 所有window对象的属性拥有全局作用域

##### 3.函数作用域

函数作用域指声明在函数内部的变量拥有

**作用域是分层的，内层作用域可以访问外层作用域的变量，反之则不行**

**块语句（{}），如 if 和 switch 条件语句或 for 和 while 循环语句，不会创建新的作用域**

##### 4.块级作用域

块级作用域可通过 **let** 和 **const** 声明，所声明的变量在指定的块外的作用域无法被访问

- 声明的变量不会提升到代码块顶部
- 禁止重复声明

#### 作用域链

作用域链是一个指向变量对象的指针列表，变量对象是一个包含了执行环境中所有变量和函数的对象，作用域链的前端始终都是当前执行上下文的变量对象，末端为全局执行上下文的变量对象

当查找一个变量时，如果当前执行环境中没有找到，则沿着作用域链向后查找，直到找到全局作用域。

**执行上下文在调用时候确定，随时能改变；作用域在定义时候就确定，并且不会改变**

#### 执行上下文

- 变量对象(VO)，包含变量、函数声明和函数的形参，该属性只能在全局上下文中访问
- 作用域链（JS采用词法作用域，也就是说变量的作用域是在定义时就决定了）
- this

